spring:
  application:
    name: pv-management-backend
  datasource:
    url: jdbc:postgresql://${DB_HOST:localhost}:${DB_PORT:5432}/${DB_NAME:pv_management}
    username: ${DB_USERNAME:pv_app}
    password: ${DB_PASSWORD:pv_app}
  jpa:
    hibernate:
      ddl-auto: validate
    properties:
      hibernate:
        format_sql: true
    open-in-view: false
  jackson:
    serialization:
      WRITE_DATES_AS_TIMESTAMPS: false
  flyway:
    enabled: true
    locations: classpath:db/migration
    baseline-on-migrate: true

management:
  endpoints:
    web:
      exposure:
        include: health,info,metrics,env

logging:
  level:
    root: INFO
    com.pvmanagement: DEBUG
    org.springframework.security: DEBUG
    com.pvmanagement.security: DEBUG

app:
  jwt:
    secret: ${JWT_SECRET:dev-secret}
    access-token-ttl-seconds: ${JWT_TTL_SECONDS:900}
    refresh-token-ttl-seconds: ${JWT_REFRESH_TTL_SECONDS:2592000}
    refresh-token-cookie-secure: ${JWT_REFRESH_COOKIE_SECURE:true}

sems:
  base-url: ${SEMS_BASE_URL:https://eu.semsportal.com/api/v2}
  client: ${SEMS_CLIENT:ios}
  version: ${SEMS_VERSION:v2.1.0}
  language: ${SEMS_LANGUAGE:en}
  station-id: ${SEMS_STATION_ID:changeme}
  account: ${SEMS_ACCOUNT:changeme}
  password: ${SEMS_PASSWORD:changeme}
  refresh-interval-ms: ${SEMS_REFRESH_INTERVAL_MS:180000}
